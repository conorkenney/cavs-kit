function loadGameData(){$.ajaxSetup({cache:!0}),$.getJSON(cavsSchedFeed,function(e){gamenum=3,game=e.gscd.g,status=game[gamenum].st,arena=game[gamenum].an,gamedate=game[gamenum].gdte,gametime=game[gamenum].etm,gameID=game[gamenum].gid,gcode=game[gamenum].gcode,gametimeFormatted=moment(game[gamenum].etm).format("dddd, MMMM D, YYYY")+" AT "+moment(game[gamenum].etm).format("h:mm A")+" (ET)",cavsHOME=cavsTID==e.gscd.g[gamenum].h.tid?1:0})}function gameIsOn(){$.ajaxSetup({cache:!0}),$.getJSON("http://data.nba.com/data/v2015/json/mobile_teams/nba/2016/scores/gamedetail/"+gameID+"_gamedetail.json",function(e){var a=e.g.p,o=e.g.stt;gameStatus=e.g.st,null===a||"0"==a?loadScoreboardPregame():(loadScoreboardInGame(),"Final"!=o&&setInterval("loadScoreboardInGame()",1e4),"Final"==o&&clearInterval("loadScoreboardInGame"))})}function stopFunction(e){clearInterval(e)}function loadScoreboardPregame(){$.ajaxSetup({cache:!0}),$.getJSON("http://data.nba.com/data/v2015/json/mobile_teams/nba/2016/teams/cavaliers_schedule_"+seasontype+".json",function(e){var a,o,t=e.gscd.g;t[gamenum].st,t[gamenum].st;1==cavsHOME?(a=t[gamenum].h.re,o=t[gamenum].v.re):(a=t[gamenum].v.re,o=t[gamenum].h.re),document.getElementById("opp-score").innerHTML="2-1",document.getElementById("cavs-score").innerHTML="3-0"})}function loadScoreboardInGame(){$.ajaxSetup({cache:!0}),$.getJSON("http://data.nba.com/data/v2015/json/mobile_teams/nba/2016/scores/gamedetail/"+gameID+"_gamedetail.json",function(e){var a=e.g.stt,o=e.g.cl;if(1==cavsHOME)var t=e.g.vls.s,i=e.g.hls.s;else var t=e.g.hls.s,i=e.g.vls.s;if("Halftime"==a||"Final"==a)var d=a;else var d=o+" - "+a;document.getElementById("opp-score").innerHTML=t,document.getElementById("cavs-score").innerHTML=i,document.getElementById("api-gameday").innerHTML=d})}function videoToggle(){$("#video-dropdown-list").slideToggle("slow"),$("#chevyup").toggle(),$("#chevydown").toggle(),firstToggle&&(firstToggle=!1,$.getJSON(vidDropdownFeed,function(e){console.log("We're In!"),vidList=e.content}).done(function(){console.log("done"),$("#load").fadeOut(),vidQuantity=vidList.length,vidBoot="1"==vidQuantity?"col-xs-12":"2"==vidQuantity?"col-xs-6":"3"==vidQuantity?"col-xs-4":"4"==vidQuantity?"col-xs-6 col-sm-6 col-md-3":"col-xs-6 col-sm-3 col-md-2";for(var e=0;e<vidList.length;e++)vidXML=vidList[e].xml,console.log(vidXML),vidTitle=vidList[e].title,vidID=vidList[e].videoID,uniqueVidID=vidList[e].nid,vidImage=vidList[e].thumbnail,pubDate=vidList[e].created,$("#video-dropdown-list").append('<div class="'+vidBoot+'">                    <button href="#" class="videoThumbButton" data-toggle="modal" data-target="#'+uniqueVidID+'" data-target=".bs-example-modal-lg" onclick="$(\'#'+uniqueVidID+"video').trigger('play');\">                    <img src=\""+vidImage+'" class="img-responsive vid-thumbnail">                    <p class="video-title">'+vidTitle+"</p>                    </button>                    </div>"),$("#modal-code").append('<div class="modal bs-example-modal-lg" id="'+uniqueVidID+'" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">                      <div class="modal-dialog modal-lg" role="document">                        <div class="modal-content">                          <div class="modal-header vid-hp-modal-header">                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="$(\'video\').trigger(\'pause\');"><span aria-hidden="true">&times;</span></button>                            <h4 class="modal-title" id="myModalLabel">'+vidTitle+'</h4>                          </div>                          <div class="modal-body vid-hp-modal-body">                              <video id="'+uniqueVidID+'video" controls poster="'+vidImage+'">                              <source src="http://nba.cdn.turner.com/nba/big/'+vidID+'_640x360_664b.mp4" type="video/mp4">                              <source src="http://nba.cdn.turner.com/nba/big/'+vidID+'_768x432_996.mp4" type="video/mp4">                              <source src="http://nba.cdn.turner.com/nba/big/'+vidID+'_nba_android_high.mp4" type="video/mp4">                              Your browser does not support the video tag.                              </video>                          </div>                          <div class="modal-footer vid-hp-modal-footer">                            <small><a href="http://www.nba.com/cavaliers/video">CHECK OUT MORE VIDEOS</a> | <a type="button" class="" href="#" data-dismiss="modal" aria-label="Close" onclick="$(\'video\').trigger(\'pause\');">CLOSE</a></small>                          </div>                        </div>                      </div>                    </div>')}).fail(function(){$("#video-dropdown-list").append('<div class="col-xs-12">An Error Occurred</div>'),console.log("error")}).always(function(){console.log("complete"),$(".modal").on("hide.bs.modal",function(){$("video").trigger("pause"),console.log("poop2")})}))}var series,arena,gamedate,gametime,gametimeFormatted,cavsHOME,gameIdentifier,gameYesterday,nextGameFormatted,gameStatus,gamenumber,gamelinkPreview,gamelinkKeys,gamelinkRecap,gamelinkSounds,gamelinkPhotos,gamelinkHighlights,gameLinkTracker,nextGameFormattedOverride,gamelinkMerch="https://www.cavaliersteamshop.com/filterSearch?q=2016+ECC",gamelinkFanGuide="http://www.nba.com/cavaliers/playoffs/guide",gamelinkSchedule="http://www.nba.com/cavaliers/schedule",gamelinkDiscuss="http://www.cavfanatic.com/forums/cavsnbabasketball_game-information#plckforumpage=ForumDiscussion&plckdiscussionid=Cat%3Acavs_nba_basketballForum%3A200869Discussion%3A02201090-66b2-4baa-8f41-431d6bd02df6",gamelinkTickets="http://www.nba.com/cavaliers/playoffs/2016/tickets?ls=homepage",gamelinkFlash="https://www.flashseats.com/default.aspx?pid=19&eo=1&ss=0&eod=s",$=jQuery.noConflict();$(document).ready(function(){loadGameData(),gameIsOn()});var cacheBust="2016-10-13-v4",vidDate,vidTitle,vidLink,vidList,vidImage,vidTeaser,request,vidPubDate,vidPubDateClean,vidQuantity,vidBoot,timeAgo,xmlFileURL,firstToggle=!0;console.log("hi");var jq2=jQuery.noConflict();jq2(function(e){e.getJSON(vidDropdownFeed,function(e){console.log("We're In!"),vidList=e.content}).done(function(){vidQuantity=vidList.length,console.log(vidQuantity),vidQuantity>"0"&&e(".video-dropdown").css("display","block")}).fail(function(){console.log("error")}).always(function(){console.log("complete")})});
